表和索引的结构
========

索引页和表页
-----
- 表行和索引行都存储在页中，大小为4k，可设置；

- 索引行：主键索引，字段的值从表中复制到索引上，并加上一个指向表中记录的指针，表页的编号构成指针；非唯一索引，一个特性的索引值对应的索引行可视为独立的索引条目，可能含有相同的value值，但指针不同；

- 索引结构：非叶子页包含键值（下一层级页中的最大键值）和指向下一层级页的指针；多个层级按照该方式建立，直到只剩下一个页，即根页，位于顶层，该种组织方式称之为B树索引；最底层的是叶子页，存储着数据或者物理地址；索引行指向对应的行数据，指针包含所存放的页以及在页中的位置；

- 表行：存储行字段以及控制信息，用于帮助DBMS处理insert或者delete操作；加载表或者insert时，表中记录的顺序可以被定义成和它的某一行索引记录相同的顺序，实现索引和表都按相同的顺序被访问；

- 缓冲池和磁盘IO：
    1. 在缓冲池中找到数据，唯一的成本是索引以及表行的处理
    2. 从随机IO中读取数据的代价是昂贵的，一次随机至少要10ms *(排队queuing 3ms, 寻道 4ms,半圈旋转2ms,传输1ms)* ：
