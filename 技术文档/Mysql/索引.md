# mysql索引大杂烩
##### mysql的索引完全可以用一本书来描述，这里仅仅是阐述一些常用的知识；而且这里仅仅讨论B+tree
----------

### 索引的结构
##### 索引是一种数据结构，目的是为了更快地找到想要的数据；就好比查询字典一样，根据拼音去快速找到对应的文字；
##### 说到索引就不得不提节点，节点是由数据域和指针域组成的；可以把索引看成是由多个节点按照特定地结构组成的，这个结构就是B+tree结构
##### 比如一次根据索引的查询：根节点(常驻内存)&rarr;下一层极节点(通过比较根节点的data域决定指针的指向)&rarr;下一层极节点(通过比较上一层极节点的data域决定指针的指向)&rarr;....&rarr;页节点(所需的数据)
##### 以上只是大概的原理流程，而这其中的细节是非常有文章的，比如怎么设计索引、怎么利用索引.......而且不同的实际场景会产生不同的结果，所以才有经验法则之说

### 如何设计合理的索引

- column要求
    1. 表的column在设计时，选择最适合的类型
        1. 为了降低B+Tree的深度，因为深度越深，磁盘寻道耗费的成本就越大
        2. 为了减少索引的空间利用，通常ken_len=字段字符数+字符集每个字符所占的字节数；特殊的```default null +1、varchar +1、int=4、bigint=8```
    2. column的基数越大越好，最大的基数就是1,比如表的唯一自增id；基数越大，查询过滤的行数就越多，索引的效率就越高